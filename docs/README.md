# Contents

ContainerPilot is an init system designed to live inside the container. It acts as a process supervisor, reaps zombies, run health checks, registers the app in the service catalog, watches the service catalog for changes, and runs your user-specified code at events in the lifecycle of the container to make it all work right. ContainerPilot uses Consul to coordinate global state among the application containers.

[Lifecycle](./10-lifecycle.md)
- [What is a job?](./10-lifecycle.md#what-is-a-job)
- [What is an event?](./10-lifecycle.md#what-is-an-event)
- [What is a watch?](./10-lifecycle.md#what-is-a-watch)
- [How do events trigger jobs?](./10-lifecycle.md#how-do-events-trigger-jobs)
- [How can jobs be ordered?](./10-lifecycle.md#how-can-jobs-be-ordered)

[Design: the Why of ContainerPilot](./20-design.md)
- [Why active service discovery?](./20-design.md#why-active-service-discovery)
- [Why isn't there a "post-start" or "started" event?](./20-design.md#why-isnt-there-a-post-start-or-started-event)
- [Why Consul and not etcd or Zookeeper?](./20-design.md#why-consul-and-not-etcd-or-zookeeper)
- [Why are jobs not the same as services?](./20-design.md#why-are-jobs-not-the-same-as-services)
- [Why don't watches or metrics have an exec field?](./20-design.md#why-dont-watches-or-metrics-have-an-exec-field)
- [Why use something other than ContainerPilot?](./20-design.md#why-use-something-other-than-containerpilot)

Configuration
- [Installation](./30-configuration/31-installation.md)
- [Configuration file](./30-configuration/32-configuration-file.md)
  - [Schema](./30-configuration/32-configuration-file.md#schema)
    - [Consul](./30-configuration/32-configuration-file.md#consul)
    - [Logging](./30-configuration/32-configuration-file.md#logging)
    - [Jobs](./30-configuration/32-configuration-file.md#jobs)
    - [Watches](./30-configuration/32-configuration-file.md#watches)
    - [Control](./30-configuration/32-configuration-file.md#control)
    - [Telemetry](./30-configuration/32-configuration-file.md#telemetry)
  - [Extras](./30-configuration/32-configuration-file.md#configuration-extras)
    - [Interfaces](./30-configuration/32-configuration-file.md#interfaces)
    - [Environment variables](./30-configuration/32-configuration-file.md#environment-variables)
    - [Template rendering](./30-configuration/32-configuration-file.md#template-rendering)
- [Consul](./30-configuration/33-consul.md)
  - [Client configuration](./30-configuration/33-consul.md#client-configuration)
  - [Consul agent configuration](./30-configuration/33-consul.md#consul-agent-configuration)
- [Jobs](./30-configuration/34-jobs.md)
  - [Lifecycle Events](./30-configuration/34-jobs.md#lifecycle-events)
  - [Configuration](./30-configuration/34-jobs.md#configuration)
    - [name](./30-configuration/34-jobs.md#name)
    - [exec](./30-configuration/34-jobs.md#exec)
    - [when](./30-configuration/34-jobs.md#when)
    - [timeout](./30-configuration/34-jobs.md#timeout)
    - [stopTimeout](./30-configuration/34-jobs.md#stopTimeout)
    - [restarts](./30-configuration/34-jobs.md#restarts)
    - [health checks](./30-configuration/34-jobs.md#health-checks)
    - [service discovery](./30-configuration/34-jobs.md#service-discovery)
  - [Exec arguments](./30-configuration/34-jobs.md#exec-arguments)
  - [Example job configurations](./30-configuration/34-jobs.md#example-job-configurations)
- [Watches](./30-configuration/35-watches.md)
- [Telemetry](./30-configuration/36-telemetry.md)
  - [Collector configuration](./30-configuration/36-telemetry.md#collector-configuration)
    - [Sensor configuration](./30-configuration/36-telemetry.md#sensor-configuration)
    - [Collector types](./30-configuration/36-telemetry.md#collector-types)
- [Control plane](./30-configuration/37-control-plane.md)
  - [ContainerPilot subcommands](./30-configuration/37-control-plane.md#containerpilot-subcommands)
- [Logging](./30-configuration/38-logging.md)
- [Example configurations](./30-configuration/39-config-examples.md)


[Support](./40-support.md)
- [Where to file issues](./40-support.md#where-to-file-issues)
- [Contributing](./40-support.md#contributing)
- [Backwards compatibility](./40-support.md#backwards-compatibility)

## Where it's used

- [Applications on autopilot: a guide to how to build self-operating applications with ContainerPilot](https://www.tritondatacenter.com/blog/applications-on-autopilot)
- [MySQL (Percona Server) with auto scaling and fail-over](https://www.tritondatacenter.com/blog/dbaas-simplicity-no-lock-in)
- [Autopilot Pattern WordPress](https://www.tritondatacenter.com/blog/wordpress-on-autopilot)
- [ELK stack](https://www.tritondatacenter.com/blog/docker-log-drivers)
- [Node.js + Nginx + Couchbase](https://www.tritondatacenter.com/blog/docker-nodejs-nginx-nosql-autopilot)
- [CloudFlare DNS and CDN with dynamic origins](https://github.com/autopilotpattern/cloudflare)
- [Consul, running as an HA raft](https://github.com/autopilotpattern/consul)
- [Couchbase](https://github.com/autopilotpattern/couchbase)
- [Mesos on Joyent Triton](https://www.tritondatacenter.com/blog/mesos-by-the-pound)
- [Nginx with dynamic upstreams](https://www.tritondatacenter.com/blog/dynamic-nginx-upstreams-with-containerbuddy)
